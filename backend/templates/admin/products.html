{% extends "admin/admin_base.html" %} {% block title %}Admin - Products{%
endblock %} {% block page_title %}Product Management{% endblock %} {% block
content %}
<div class="page-title">Product Management</div>

<div class="card">
  <div class="card-header">
    <h3>Products</h3>
    <button class="btn btn-primary">+ Add New Product</button>
  </div>

  {% if products %}
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Category</th>
        <th>Price</th>
        <th>Stock</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for product in products %}
      <tr>
        <td>#{{ product.id }}</td>
        <td><strong>{{ product.name }}</strong></td>
        <td>{{ product.category if product.category else 'Uncategorized' }}</td>
        <td>${{ product.selling_price | round(2) }}</td>
        <td>
          {% if product.current_stock < 10 %}
          <strong style="color: #d32f2f">{{ product.current_stock }}</strong>
          {% else %}
          <strong style="color: #388e3c">{{ product.current_stock }}</strong>
          {% endif %}
        </td>
        <td>
          {{ product.description[:50] if product.description else 'N/A' }}...
        </td>
        <td>
          <div class="action-buttons">
            <a href="#" class="btn btn-secondary">Edit</a>
            <a href="#" class="btn btn-danger">Delete</a>
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p style="padding: 20px; text-align: center; color: #999">
    No products found
  </p>
  {% endif %}
</div>

<!-- Product Stats -->
<div class="card">
  <div class="card-header">
    <h3>Product Statistics</h3>
  </div>
  <div class="stats-grid" style="margin-bottom: 0">
    <div class="stat-card">
      <h3>{{ total_products }}</h3>
      <p>Total Products</p>
    </div>
    <div class="stat-card">
      <h3>
        ${{ total_inventory_value | round(2) if total_inventory_value else
        '0.00' }}
      </h3>
      <p>Inventory Value</p>
    </div>
    <div class="stat-card">
      <h3>{{ categories_count | default(0) }}</h3>
      <p>Categories</p>
    </div>
  </div>
</div>
{% endblock %}
